<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>åŸå½¤Skin | å°ˆå±¬éœ§å”‡æ¨¡æ“¬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-purple: #7a6f8a;
      --light-purple: #a790b8;
      --bg-color: #f8fafc;
      --white: #ffffff;
    }

    body {
      font-family: "Noto Sans TC", Arial, sans-serif;
      background: var(--bg-color);
      color: #444;
      margin: 0; padding: 0;
      line-height: 1.6;
      padding-bottom: 80px; /* é ç•™åº•éƒ¨æŒ‰éˆ•ç©ºé–“ */
    }

    /* --- Header & Logo --- */
    header {
      text-align: center;
      padding: 30px 20px;
      background: var(--white);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      position: sticky; top: 0; z-index: 100;
    }
    .logo-text {
      font-family: 'Noto Serif TC', serif;
      font-size: 2em; 
      letter-spacing: .1em; 
      color: #333;
      margin: 0;
      font-weight: bold;
    }
    
    /* --- é€šç”¨å€å¡Šè¨­å®š --- */
    section {
      max-width: 600px;
      margin: 30px auto;
      background: var(--white);
      padding: 30px 20px;
      box-shadow: 0 8px 30px rgba(223, 216, 236, 0.4);
      border-radius: 20px;
    }
    h2 { 
      font-family: 'Noto Serif TC', serif;
      font-size: 1.5em; 
      color: var(--primary-purple); 
      margin-top: 0; 
      border-bottom: 2px solid #f4f4fa; 
      padding-bottom: 10px; 
      margin-bottom: 20px;
      text-align: center;
    }

    /* --- æ ¸å¿ƒåŠŸèƒ½ï¼šéœ§å”‡æ¨¡æ“¬å™¨ --- */
    .simulator-box {
        position: relative;
        width: 100%; height: 400px;
        background-color: #eee;
        background-image: url('https://placehold.co/400x500/png?text=é»æ“Šä¸Šå‚³æ‚¨çš„ç…§ç‰‡'); 
        background-size: cover; background-position: center;
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 20px;
        box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
        cursor: pointer;
    }
    .lip-overlay {
        position: absolute;
        top: 55%; left: 50%;
        transform: translate(-50%, -50%);
        width: 100px; height: 35px;
        background-color: #D98E7E; /* é è¨­é¡è‰² */
        border-radius: 50%;
        filter: blur(10px);
        mix-blend-mode: multiply;
        opacity: 0.65;
        cursor: move;
    }
    .controls { text-align: center; }
    .color-name { 
        display: inline-block; background: #f4f0f9; color: var(--primary-purple); 
        padding: 4px 12px; border-radius: 15px; font-size: 0.9em; margin-bottom: 15px; font-weight: bold;
    }
    .color-grid {
        display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; justify-items: center;
    }
    .color-btn {
        width: 45px; height: 45px; border-radius: 50%;
        border: 2px solid #fff; 
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        cursor: pointer; transition: transform 0.2s;
    }
    .color-btn.active { border-color: var(--primary-purple); transform: scale(1.15); }

    /* 8ç¨®é¡è‰²å®šç¾© */
    .c1 { background: #D98E7E; } .c2 { background: #E6B6AD; }
    .c3 { background: #C67C7B; } .c4 { background: #DFA98F; }
    .c5 { background: #B86E6E; } .c6 { background: #D2A889; }
    .c7 { background: #EA9E8D; } .c8 { background: #C06C6C; }

    /* --- ä½œå“é›† --- */
    .portfolio-row { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
    .portfolio-img {
      width: 48%; height: 180px; border-radius: 10px;
      box-shadow: 0 2px 8px #e0dde7; object-fit: cover;
    }

    /* --- åƒ¹ç›®è¡¨æ¨£å¼ --- */
    .service-list { list-style: none; padding: 0; }
    .service-list li { 
        margin-bottom: 15px; border-bottom: 1px dashed #eee; padding-bottom: 10px;
        display: flex; justify-content: space-between; align-items: baseline;
    }
    .service-name { font-weight: 500; color: #333; }
    .price { color: var(--primary-purple); font-weight: bold; font-family: 'Noto Serif TC', serif; }

    /* --- åº•éƒ¨æ‡¸æµ®æŒ‰éˆ• (CTA) --- */
    .floating-bar {
        position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
        z-index: 99; width: 90%; max-width: 400px;
        display: flex; flex-direction: column; align-items: center; gap: 5px;
    }
    .cta-btn {
        background: var(--primary-purple); color: #fff;
        width: 100%; padding: 14px; text-align: center;
        border-radius: 50px; font-size: 1.1em; font-weight: bold;
        text-decoration: none; box-shadow: 0 4px 15px rgba(122, 111, 138, 0.5);
        border: none; cursor: pointer;
    }
    .promo-hint { font-size: 0.85em; color: var(--primary-purple); background: rgba(255,255,255,0.9); padding: 4px 12px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

    /* --- Modal å½ˆçª—æ¨£å¼ --- */
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); backdrop-filter: blur(3px); overflow: auto;}
    .modal-content { background-color: #fff; margin: 5% auto; padding: 25px; width: 85%; max-width: 450px; border-radius: 16px; animation: slideUp 0.4s ease; }
    @keyframes slideUp { from {transform: translateY(50px); opacity: 0;} to {transform: translateY(0); opacity: 1;} }
    .close { float: right; font-size: 28px; cursor: pointer; color: #aaa; }
    
    .form-group { margin-bottom: 12px; text-align: left; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: var(--primary-purple); font-size: 0.9em; }
    .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; background: #fafafa; }
    #promoMessage { display: none; color: #28a745; font-size: 0.9em; margin-top: 5px; font-weight: bold; }

    /* éš±è—ä¸Šå‚³ input */
    #uploadInput { display: none; }
  </style>
</head>
<body>

  <header>
    <h1 class="logo-text">logo1</h1>
  </header>

  <section>
    <h2>å°ˆå±¬å”‡è‰²æ¨¡æ“¬ Simulator</h2>
    <div class="simulator-box" id="photoArea" onclick="document.getElementById('uploadInput').click()">
        <input type="file" id="uploadInput" accept="image/*" onchange="loadPhoto(event)">
        <div class="lip-overlay" id="lipOverlay"></div>
        <div style="position:absolute; top:10px; right:10px; background:rgba(255,255,255,0.7); padding:4px 8px; border-radius:10px; font-size:12px;">ğŸ“· é»æ“Šæ›åœ–</div>
        <div style="position:absolute; bottom:10px; left:50%; transform:translateX(-50%); color:white; font-size:12px; text-shadow:0 1px 3px rgba(0,0,0,0.5);">âœ¨ å¯æ‹–æ›³è‰²å¡Šèª¿æ•´ä½ç½®</div>
    </div>

    <div class="controls">
        <span class="color-name" id="colorName">èœœæ¡ƒçƒé¾</span>
        <div class="color-grid">
            <div class="color-btn c1 active" onclick="changeColor('#D98E7E', 'èœœæ¡ƒçƒé¾', this)"></div>
            <div class="color-btn c2" onclick="changeColor('#E6B6AD', 'ç´”æ·¨è£¸ç²‰', this)"></div>
            <div class="color-btn c3" onclick="changeColor('#C67C7B', 'æº«æŸ”è±†æ²™', this)"></div>
            <div class="color-btn c4" onclick="changeColor('#DFA98F', 'æ´»åŠ›çŠç‘š', this)"></div>
            <div class="color-btn c5" onclick="changeColor('#B86E6E', 'ä¹¾ç‡¥ç«ç‘°', this)"></div>
            <div class="color-btn c6" onclick="changeColor('#D2A889', 'æ³°å¼å¥¶èŒ¶', this)"></div>
            <div class="color-btn c7" onclick="changeColor('#EA9E8D', 'ç”œå¿ƒç²‰æ©˜', this)"></div>
            <div class="color-btn c8" onclick="changeColor('#C06C6C', 'å¾©å¤ç£šç´…', this)"></div>
        </div>
    </div>
  </section>

  <section>
    <h2>ä½œå“é›† Portfolio</h2>
    <div class="portfolio-row">
      <img src="p1.jpg" alt="ä½œå“é›†1" class="portfolio-img">
      <img src="p2.jpg" alt="ä½œå“é›†2" class="portfolio-img">
    </div>
    <p style="text-align:center; font-size:0.9em; color:#888; margin-top:15px;">
        é»æ“Šä¸‹æ–¹æŒ‰éˆ•é ç´„ï¼Œç‚ºè‡ªå·±æ‰¾å›è‡ªä¿¡è‰²å½©ã€‚
    </p>
  </section>

  <section>
    <h2>æœå‹™é …ç›® Service</h2>
    <ul class="service-list">
      <li><span class="service-name">å”‡è‰²é‚„åŸ</span><span class="price">NT$ 7,980</span></li>
      <li><span class="service-name">å”‡æ·¡è‰²</span><span class="price">NT$ 3,490</span></li>
      <li><span class="service-name">å”‡æ°§è­·</span><span class="price">NT$ 1,980</span></li>
      <li><span class="service-name">æ·¡è‰²åŒ…å¥— (3å ‚)</span><span class="price">NT$ 8,490</span></li>
    </ul>
  </section>

  <div class="floating-bar">
      <div class="promo-hint">è¼¸å…¥ä»£ç¢¼ <b>Yuki</b> äº«ç¥ç¥•å¥½ç¦®</div>
      <button id="openModalBtn" class="cta-btn">ç«‹å³è«®è©¢ / é ç´„</button>
  </div>

  <div id="bookingModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3 style="text-align: center; color: var(--primary-purple); margin-bottom: 20px;">é ç´„è³‡æ–™å¡«å¯«</h3>
        
        <form id="bookingForm">
            <div class="form-group">
                <label>å§“å Name</label>
                <input type="text" id="name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
            </div>

            <div class="form-group">
                <label>é›»è©± Phone</label>
                <input type="tel" id="phone" required placeholder="09xx-xxx-xxx">
            </div>

            <div class="form-group">
                <label>é ç´„æ—¥æœŸ (è¿‘30å¤©)</label>
                <input type="date" id="bookDate" required>
            </div>

            <div class="form-group">
                <label>é ç´„æ™‚æ®µ</label>
                <select id="bookTime" required></select>
            </div>

            <div class="form-group">
                <label>å„ªæƒ ä»£ç¢¼ Promo Code</label>
                <input type="text" id="promoCode" placeholder="è¼¸å…¥ Yuki">
                <div id="promoMessage">ğŸ‰ å„ªæƒ ä»£ç¢¼æœ‰æ•ˆï¼è´ˆé€ç²¾ç¾å°ç¦®ç‰©ï¼</div>
            </div>

            <button type="submit" class="cta-btn" style="border-radius: 8px; font-size:1em;">ç¢ºèªé ç´„ (é€å‡ºä¿¡ä»¶)</button>
        </form>
    </div>
  </div>

  <script>
    /* ====================
       1. éœ§å”‡æ¨¡æ“¬å™¨é‚è¼¯
       ==================== */
    let currentColor = '#D98E7E';
    const lipOverlay = document.getElementById('lipOverlay');
    const colorNameDisplay = document.getElementById('colorName');
    const colorBtns = document.querySelectorAll('.color-btn');

    // åˆ‡æ›é¡è‰²
    function changeColor(color, name, btn) {
        currentColor = color;
        lipOverlay.style.backgroundColor = color;
        colorNameDisplay.innerText = name;
        colorBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    // ä¸Šå‚³ç…§ç‰‡
    function loadPhoto(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('photoArea').style.backgroundImage = `url(${e.target.result})`;
            }
            reader.readAsDataURL(file);
        }
    }

    // æ‹–æ›³åŠŸèƒ½ (æ”¯æ´æ‰‹æ©Ÿ/é›»è…¦)
    let isDragging = false;
    let startX, startY, initialLeft, initialTop;

    const dragStart = (e) => {
        isDragging = true;
        startX = (e.type === 'touchstart') ? e.touches[0].clientX : e.clientX;
        startY = (e.type === 'touchstart') ? e.touches[0].clientY : e.clientY;
        initialLeft = lipOverlay.offsetLeft;
        initialTop = lipOverlay.offsetTop;
        if(e.cancelable && e.type === 'touchstart') e.preventDefault();
    };

    const dragMove = (e) => {
        if (!isDragging) return;
        const currentX = (e.type === 'touchmove') ? e.touches[0].clientX : e.clientX;
        const currentY = (e.type === 'touchmove') ? e.touches[0].clientY : e.clientY;
        lipOverlay.style.left = `${initialLeft + (currentX - startX)}px`;
        lipOverlay.style.top = `${initialTop + (currentY - startY)}px`;
        if(e.cancelable) e.preventDefault();
    };

    const dragEnd = () => { isDragging = false; };

    lipOverlay.addEventListener('mousedown', dragStart);
    lipOverlay.addEventListener('touchstart', dragStart, {passive: false});
    window.addEventListener('mousemove', dragMove);
    window.addEventListener('touchmove', dragMove, {passive: false});
    window.addEventListener('mouseup', dragEnd);
    window.addEventListener('touchend', dragEnd);


    /* ====================
       2. é ç´„ç³»çµ±é‚è¼¯
       ==================== */
    // æ—¥æœŸé™åˆ¶ (ä»Šå¤©~30å¤©)
    const dateInput = document.getElementById('bookDate');
    const today = new Date();
    const maxDate = new Date();
    maxDate.setDate(today.getDate() + 30);
    
    function formatDate(date) {
        let d = new Date(date), month = '' + (d.getMonth() + 1), day = '' + d.getDate(), year = d.getFullYear();
        if (month.length < 2) month = '0' + month;
        if (day.length < 2) day = '0' + day;
        return [year, month, day].join('-');
    }
    dateInput.min = formatDate(today);
    dateInput.max = formatDate(maxDate);

    // æ™‚æ®µç”Ÿæˆ
    const timeSelect = document.getElementById('bookTime');
    ["10:00", "12:00", "14:00", "16:00", "18:00", "20:00"].forEach(t => {
        let opt = document.createElement('option'); opt.value = t; opt.innerText = t;
        timeSelect.appendChild(opt);
    });

    // å„ªæƒ ä»£ç¢¼ Yuki
    document.getElementById('promoCode').addEventListener('input', function() {
        document.getElementById('promoMessage').style.display = 
            (this.value.trim().toLowerCase() === 'yuki') ? 'block' : 'none';
    });

    // Modal é–‹é—œ
    const modal = document.getElementById("bookingModal");
    const closeSpan = document.getElementsByClassName("close")[0];
    document.getElementById("openModalBtn").onclick = () => modal.style.display = "block";
    closeSpan.onclick = () => modal.style.display = "none";
    window.onclick = (e) => { if (e.target == modal) modal.style.display = "none"; };

    // é€å‡ºè¡¨å–® (Mailto)
    document.getElementById('bookingForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const date = document.getElementById('bookDate').value;
        const time = document.getElementById('bookTime').value;
        const promo = document.getElementById('promoCode').value;
        
        const promoText = (promo.trim().toLowerCase() === 'yuki') ? "ã€å·²ä½¿ç”¨ Yuki å„ªæƒ ã€‘" : "ç„¡";
        const emails = "a911097777@gmail.com,wenheny831@gmail.com";
        const subject = `é ç´„ï¼š${name} - ${date} ${time}`;
        const body = `å§“åï¼š${name}\né›»è©±ï¼š${phone}\næ—¥æœŸï¼š${date} ${time}\nå„ªæƒ ç‹€æ…‹ï¼š${promoText}`;

        window.location.href = `mailto:${emails}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        modal.style.display = "none";
    });
  </script>
</body>
</html>
